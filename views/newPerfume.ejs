<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow-lg p-4 w-50 border-0">
        <h2 class="fw-bold text-center">Create a New Perfume</h2>

        <form action="/perfumes" method="POST" class="d-flex flex-column gap-3">

            <div class="d-flex flex-row justify-content-between">
                <!-- Perfume Name -->
                <div class="">
                    <label for="name" class="form-label fw-bold">Perfume Name</label>
                    <input type="text" name="name" id="name" class="form-control" placeholder="Enter perfume name"
                        required>
                </div>
                <!-- Brand Selection -->
                <div class="w-50">
                    <label for="brand" class="form-label fw-bold">Brand</label>
                    <select name="brand" id="brand" class="form-select" required>
                        <option value="" disabled selected>Select Brand</option>
                        <% brands.forEach(brand=> { %>
                            <option value="<%= brand._id %>">
                                <%= brand.name %>
                            </option>
                            <% }) %>
                    </select>
                </div>
            </div>
            <!-- Description -->
            <div class="">
                <label for="description" class="form-label fw-bold">Description</label>
                <textarea name="description" id="description" class="form-control" rows="3"
                    placeholder="Describe the perfume" required></textarea>
            </div>

            <div class="d-flex flex-row justify-content-between">
                <!-- Price -->
                <div class="">
                    <label for="price" class="form-label fw-bold">Price ($)</label>
                    <input type="number" name="price" id="price" class="form-control" step="0.5" min="0"
                        placeholder="Enter price" required>
                </div>

                <!-- Concentration -->
                <div class="">
                    <label for="concentration" class="form-label fw-bold">Concentration</label>
                    <input type="text" name="concentration" id="concentration" class="form-control"
                        placeholder="Enter concentration" required>
                </div>
            </div>

            <div class="d-flex flex-row justify-content-between">
                <!-- Incredients -->
                <div class="">
                    <label for="incredients" class="form-label fw-bold">Incredients</label>
                    <input type="text" name="incredients" id="incredients" class="form-control"
                        placeholder="Enter incredients" required>
                </div>

                <!-- Volume -->
                <div class="">
                    <label for="volume" class="form-label fw-bold">Volume (ml)</label>
                    <input type="number" name="volume" id="volume" class="form-control" step="1" min="0"
                        placeholder="Enter volume" required>
                </div>
            </div>

            <div class="d-flex flex-row justify-content-between">
                <!-- Target Audience -->
                <div class="w-100">
                    <label for="targetAudience" class="form-label fw-bold">Target Audience</label>
                    <select name="targetAudience" id="targetAudience" class="form-select" required>
                        <option value="" disabled selected>Select Target Audience</option>
                        <% let targetAudiences=["Male", "Female" , "Unisex" ]; targetAudiences.forEach(targetAudience=> { %>
                            <option value="<%= targetAudience %>">
                                <%= targetAudience %>
                            </option>
                            <% }) %>
                    </select>
                </div>
            </div>


            <!-- Image Upload -->
            <div class="">
                <label for="uri" class="form-label fw-bold">Perfume Image</label>
                <input type="text" name="uri" id="uri" class="form-control" placeholder="Enter image url"
                    onchange="previewImage(this.value)">
            </div>

            <!-- Image Preview -->
            <div class="text-center">
                <img id="imagePreview" src="https://via.placeholder.com/150" class="rounded shadow mt-2"
                    style="width: 150px; height: 150px; object-fit: cover; display: none;">
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary w-100"><i class="fas fa-save"></i> Create Perfume</button>
        </form>

        <!-- Back Button -->
        <a href="/perfumes" class="btn btn-secondary w-100 mt-3"><i class="fas fa-arrow-left"></i> Back to Perfumes</a>
    </div>
</div>

<!-- JavaScript for Image Preview -->
<script>
    function previewImage(url) {
        const img = document.getElementById('imagePreview');
        img.src = url;
        img.style.display = 'block';
    }
</script>