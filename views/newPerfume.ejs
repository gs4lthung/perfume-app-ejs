<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow-lg p-4 w-50 border-0">
        <h2 class="fw-bold text-center">Create a New Perfume</h2>

        <form action="/perfumes" method="POST" class="d-flex flex-column gap-3">

            <div class="d-flex flex-row justify-content-between">
                <!-- Perfume Name -->
                <div class="">
                    <label for="name" class="form-label fw-bold">Perfume Name</label>
                    <input type="text" name="name" id="name" class="form-control" placeholder="Enter perfume name"
                        required>
                </div>
                <!-- Category Selection -->
                <div class="w-50">
                    <label for="category" class="form-label fw-bold">Category</label>
                    <select name="category" id="category" class="form-select" required>
                        <option value="" disabled selected>Select Category</option>
                        <% categories.forEach(category=> { %>
                            <option value="<%= category._id %>">
                                <%= category.name %>
                            </option>
                            <% }) %>
                    </select>
                </div>
            </div>
            <!-- Description -->
            <div class="">
                <label for="description" class="form-label fw-bold">Description</label>
                <textarea name="description" id="description" class="form-control" rows="3"
                    placeholder="Describe the perfume" required></textarea>
            </div>

            <div class="d-flex flex-row justify-content-between">
                <!-- Price -->
                <div class="">
                    <label for="price" class="form-label fw-bold">Price ($)</label>
                    <input type="number" name="price" id="price" class="form-control" step="0.5" min="0"
                        placeholder="Enter price" required>
                </div>

                <!-- Brand -->
                <div class="">
                    <label for="brand" class="form-label fw-bold">Brand</label>
                    <input type="text" name="brand" id="brand" class="form-control" placeholder="Enter brand" required>
                </div>
            </div>

            <div class="d-flex flex-row justify-content-between">
                <!-- Fragrance Type -->
                <div class="m">
                    <label for="fragranceType" class="form-label fw-bold">Fragrance Type</label>
                    <input type="text" name="fragranceType" id="fragranceType" class="form-control"
                        placeholder="Enter fragrance type" required>
                </div>

                <!-- Volume -->
                <div class="">
                    <label for="volume" class="form-label fw-bold">Volume</label>
                    <input type="number" name="volume" id="volume" class="form-control" step="1" min="0" placeholder="Enter volume"
                        required>
                </div>
            </div>

            <!-- Image Upload -->
            <div class="">
                <label for="imageUrl" class="form-label fw-bold">Perfume Image</label>
                <input type="text" name="imageUrl" id="imageUrl" class="form-control" placeholder="Enter image url"
                    onchange="previewImage(this.value)">
            </div>

            <!-- Image Preview -->
            <div class="text-center">
                <img id="imagePreview" src="https://via.placeholder.com/150" class="rounded shadow mt-2"
                    style="width: 150px; height: 150px; object-fit: cover; display: none;">
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary w-100"><i class="fas fa-save"></i> Create Perfume</button>
        </form>

        <!-- Back Button -->
        <a href="/perfumes" class="btn btn-secondary w-100 mt-3"><i class="fas fa-arrow-left"></i> Back to Perfumes</a>
    </div>
</div>

<!-- JavaScript for Image Preview -->
<script>
    function previewImage(url) {
        const img = document.getElementById('imagePreview');
        img.src = url;
        img.style.display = 'block';
    }
</script>