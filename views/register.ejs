<!DOCTYPE html>
<html>

<head>
  <title>Register</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body class="container d-flex flex-column justify-content-center align-items-center"
  style="height: 100vh;
  background-image: url(https://img.pikbest.com/wp/202408/dark-nature-natural-perfume-embracing-s-essence-against-a-textured-backdrop_9979359.jpg!w700wp);background-size: cover;">
  <div class="p-5 rounded shadow w-50 d-flex flex-column gap-3" style="background-color: rgba(255, 255, 255, 0.85);">
    <h2 class="text-center">Register</h2>
    <form action="/register" method="POST" class="d-flex flex-column gap-3">
      <input type="text" name="name" placeholder="Name" class="form-control" required />
      <input type="text" name="username" placeholder="Username" class="form-control" required />
      <input type="password" id="password" name="password" placeholder="Password" class="form-control" required />
      <input type="password" id="password2" name="password2" placeholder="Confirm Password" class="form-control"
        required onblur="validatePasswords()" />
      <p id="error-message" class="text-danger" style="display: none;"></p>
      <% if (error) { %>
        <p class="text-danger">
          <%= error %>
        </p>
        <% } %>
          <button type="submit" class="btn btn-primary">Register</button>
    </form>
    <p class="text-center">
      Already have an account? <a href="/login" class="text-primary fw-bold">Login</a>
    </p>
  </div>

  <script>
    function validatePasswords() {
      var password = document.getElementById("password").value;
      var password2 = document.getElementById("password2").value;
      var errorMessage = document.getElementById("error-message");

      if (password !== password2) {
        errorMessage.style.display = "block";
        errorMessage.innerText = "Passwords do not match!";
        return false;
      }
      else {
        errorMessage.style.display = "none";
        return true;
      }
    }
  </script>
</body>

</html>